!function t(e,n,r){function o(i,c){if(!n[i]){if(!e[i]){var a="function"==typeof require&&require;if(!c&&a)return a(i,!0);if(s)return s(i,!0);var u=new Error("Cannot find module '"+i+"'");throw u.code="MODULE_NOT_FOUND",u}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(t){var n=e[i][1][t];return o(n?n:t)},p,p.exports,t,e,n,r)}return n[i].exports}for(var s="function"==typeof require&&require,i=0;i<r.length;i++)o(r[i]);return o}({1:[function(t,e,n){"use strict";var r,o,s=function(t,e){return function(){return t.apply(e,arguments)}};o=t("./resource"),e.exports=r=function(){function t(t){this.$resource=t,this.getResource=s(this.getResource,this),this.reload=s(this.reload,this),this.get=s(this.get,this),this.parsePath=s(this.parsePath,this),this.$cache={}}return t.$inject=["$rcResource"],t.prototype.parsePath=function(t){var e,n,r,o,s;for(null==t&&(t=""),o=t.split(/[:\/]/g),s=[],e=0,n=o.length;n>e;e++)r=o[e],null!=r&&r&&s.push(r);return s},t.prototype.get=function(t){return this.$cache[t]||this.getResource(t)},t.prototype.reload=function(t){return this.$cache[t].$get({page:t})||this.getResource(t)},t.prototype.getResource=function(t){return this.$cache[t]=this.$resource.get({page:t})},t}()},{"./resource":6}],2:[function(t,e,n){"use strict";var r,o=function(t,e){return function(){return t.apply(e,arguments)}};e.exports=r=function(){function t(t,e,n,r){this.$cache=t,this.$scope=e,this.$interpolate=n,this.editableContent=o(this.editableContent,this),this.getContent=o(this.getContent,this),this.getPage=o(this.getPage,this),this.getSection=o(this.getSection,this),this.setClass=o(this.setClass,this),this.parsePath=o(this.parsePath,this),this.$scope.$watch(function(t){return function(){return t.expr||t.path}}(this),this.parsePath),this.$scope.$watch(this.getPage,function(t){return function(e){t.$page=e}}(this)),this.$scope.$watch(this.getSection,function(t){return function(e){return t.content=e,t.html=t.getContent(),t.setClass()}}(this))}return t.$inject=["$rcCache","$scope","$interpolate","$element"],t.prototype.parsePath=function(t){var e;return e=this.$cache.parsePath(t),this.page=e[0],this.section=e[1],e},t.prototype.setClass=function(){return this["class"]=this.section||this.page},t.prototype.getSection=function(){var t;return(null!=(t=this.section)?t.length:void 0)?this.$page[this.section]:this.$page},t.prototype.getPage=function(){return this.page?this.$cache.get(this.page):void 0},t.prototype.getContent=function(){var t;return(null!=(t=this.content)?t.length:void 0)?this.$interpolate(this.content)(this.$scope):void 0},t.prototype.editableContentOptions={getterSetter:!0},t.prototype.editableContent=function(t){return null==t?angular.toJson(this.content):(this.content=angular.fromJson(t),this.html=this.getContent())},t}()},{}],3:[function(t,e,n){"use strict";var r;r={name:"reCms",restrict:"AEC",controller:t("./controller"),controllerAs:"C",scope:!0,template:'<content ng-class="C.class" ng-if=\'!C.editable\'>\n	<content-html ng-if="C.html" ng-bind-html="C.html"></content-html>\n	<content-text ng-if="!C.html">{{ C.content }}</content-text>\n</content>\n<textarea ng-model="C.editableContent" ng-model-options="C.editableContentOptions" ng-if=\'C.editable\'></textarea>\n<json-formatter json=\'C\'></json-formatter>'},r.bindToController={path:"@?section",expr:"@?"+r.name,editable:"=?"},e.exports=r},{"./controller":2}],4:[function(t,e,n){"use strict";var n;e.exports=n=function(t,e){var n;return n=function(e,n){var r,o,s,i;return s=t.parsePath(e),o=s[0],i=s[1],n&&(i=o,o=n),(o||i)&&(r=t.get(o||i)),null!=i?r[i]:r},n.$stateful=!0,n},n.$inject=["$rcCache","$sce"]},{}],5:[function(t,e,n){"use strict";var r;r=t("./directive"),e.exports=angular.module("re:cms",["ngResource","ngSanitize",t("jsonformatter")]).constant("$rcVersion",t("../package.json").version).directive(r.name,function(){return r}).provider("$rcResource",t("./resource")).service("$rcCache",t("./cache")).filter("reCms",t("./filter"))},{"../package.json":8,"./cache":1,"./directive":3,"./filter":4,"./resource":6,jsonformatter:7}],6:[function(t,e,n){"use strict";var r;e.exports=r=function(){function t(){this.setContentUrl()}return t.prototype.setContentUrl=function(t){this.contentUrl=null!=t?t:""},t.prototype.$get=["$resource",function(t){return t(this.contentUrl+"/:page/:section")}],t}()},{}],7:[function(t,e,n){"use strict";angular.module("jsonFormatter",["RecursionHelper"]).provider("JSONFormatterConfig",function(){var t=!1,e=100,n=5;return{get hoverPreviewEnabled(){return t},set hoverPreviewEnabled(e){t=!!e},get hoverPreviewArrayCount(){return e},set hoverPreviewArrayCount(t){e=parseInt(t,10)},get hoverPreviewFieldCount(){return n},set hoverPreviewFieldCount(t){n=parseInt(t,10)},$get:function(){return{hoverPreviewEnabled:t,hoverPreviewArrayCount:e,hoverPreviewFieldCount:n}}}}).directive("jsonFormatter",["RecursionHelper","JSONFormatterConfig",function(t,e){function n(t){return t.replace('"','"')}function r(t){if(void 0===t)return"";if(null===t)return"Object";if("object"==typeof t&&!t.constructor)return"Object";var e=/function (.{1,})\(/,n=e.exec(t.constructor.toString());return n&&n.length>1?n[1]:""}function o(t){return null===t?"null":typeof t}function s(t,e){var r=o(t);return"null"===r||"undefined"===r?r:("string"===r&&(e='"'+n(e)+'"'),"function"===r?t.toString().replace(/[\r\n]/g,"").replace(/\{.*\}/,"")+"{…}":e)}function i(t){var e="";return angular.isObject(t)?(e=r(t),angular.isArray(t)&&(e+="["+t.length+"]")):e=s(t,t),e}function c(t){t.isArray=function(){return angular.isArray(t.json)},t.isObject=function(){return angular.isObject(t.json)},t.getKeys=function(){return t.isObject()?Object.keys(t.json).map(function(t){return""===t?'""':t}):void 0},t.type=o(t.json),t.hasKey="undefined"!=typeof t.key,t.getConstructorName=function(){return r(t.json)},"string"===t.type&&("Invalid Date"!==new Date(t.json).toString()&&(t.isDate=!0),0===t.json.indexOf("http")&&(t.isUrl=!0)),t.isEmptyObject=function(){return t.getKeys()&&!t.getKeys().length&&t.isOpen&&!t.isArray()},t.isOpen=!!t.open,t.toggleOpen=function(){t.isOpen=!t.isOpen},t.childrenOpen=function(){return t.open>1?t.open-1:0},t.openLink=function(e){e&&(window.location.href=t.json)},t.parseValue=function(e){return s(t.json,e)},t.showThumbnail=function(){return!!e.hoverPreviewEnabled&&t.isObject()&&!t.isOpen},t.getThumbnail=function(){if(t.isArray())return t.json.length>e.hoverPreviewArrayCount?"Array["+t.json.length+"]":"["+t.json.map(i).join(", ")+"]";var n=t.getKeys(),r=n.slice(0,e.hoverPreviewFieldCount),o=r.map(function(e){return e+":"+i(t.json[e])}),s=n.length>=5?"…":"";return"{"+o.join(", ")+s+"}"}}return{templateUrl:"json-formatter.html",restrict:"E",replace:!0,scope:{json:"=",key:"=",open:"="},compile:function(e){return t.compile(e,c)}}}]),"object"==typeof e&&(e.exports="jsonFormatter"),angular.module("RecursionHelper",[]).factory("RecursionHelper",["$compile",function(t){return{compile:function(e,n){angular.isFunction(n)&&(n={post:n});var r,o=e.contents().remove();return{pre:n&&n.pre?n.pre:null,post:function(e,s){r||(r=t(o)),r(e,function(t){s.append(t)}),n&&n.post&&n.post.apply(null,arguments)}}}}}]),angular.module("jsonFormatter").run(["$templateCache",function(t){t.put("json-formatter.html",'<div ng-init="isOpen = open && open > 0" class="json-formatter-row"><a ng-click="toggleOpen()"><span class="toggler {{isOpen ? \'open\' : \'\'}}" ng-if="isObject()"></span> <span class="key" ng-if="hasKey"><span class="key-text">{{key}}</span><span class="colon">:</span></span> <span class="value"><span ng-if="isObject()"><span class="constructor-name">{{getConstructorName(json)}}</span> <span ng-if="isArray()"><span class="bracket">[</span><span class="number">{{json.length}}</span><span class="bracket">]</span></span></span> <span ng-if="!isObject()" ng-click="openLink(isUrl)" class="{{type}}" ng-class="{date: isDate, url: isUrl}">{{parseValue(json)}}</span></span> <span ng-if="showThumbnail()" class="thumbnail-text">{{getThumbnail()}}</span></a><div class="children" ng-if="getKeys().length && isOpen"><json-formatter ng-repeat="key in getKeys() track by $index" json="json[key]" key="key" open="childrenOpen()"></json-formatter></div><div class="children empty object" ng-if="isEmptyObject()"></div><div class="children empty array" ng-if="getKeys() && !getKeys().length && isOpen && isArray()"></div></div>')}])},{}],8:[function(t,e,n){e.exports={author:"Julian Wielga <j@touk.pl>",name:"re-cms",description:"re-cms",version:"1.0.1",homepage:"",repository:{type:"git",url:""},scripts:{bower:"bower prune && bower update",prepare:"npm install && npm run bower","#prebuild":"npm run prepare",build:"brunch build --production","#prestart":"npm run prepare",start:"brunch watch --server"},main:"module/module.coffee",dependencies:{jsonformatter:">= 0.5 < 1.0",lodash:">= 4.5 < 5.0"},devDependencies:{"coffee-script":">= 1.10 < 2.0","assetsmanager-brunch":">= 1.8 < 1.9",bower:">= 1.7 < 1.8","auto-reload-brunch":">= 2.0 < 2.1","browserify-brunch":">= 1.7 < 1.8",brunch:">= 2.0 < 3.0","clean-css-brunch":">= 2.0 < 2.1","coffee-script-brunch":">= 2.0 < 2.1",coffeeify:">= 2.0 < 2.1","css-brunch":">= 2.0 < 2.1","dependency-brunch":">= 0.1 < 0.2","jade-pages-brunch":">= 2.0 < 2.1","javascript-brunch":">= 2.0 < 2.1","js-yaml":">= 3.0 < 4.0","jstransformer-coffee-script":">= 1.0 < 1.1","less-brunch":">= 2.0 < 2.1","process-env-brunch":">= 1.4 < 1.5","stylus-brunch":">= 2.0 < 2.1","uglify-js-brunch":">= 2.0 < 2.1"}}},{}]},{},[5]);